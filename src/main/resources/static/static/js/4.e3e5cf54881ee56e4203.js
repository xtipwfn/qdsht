webpackJsonp([4],{"+G46":function(t,e){},"0ttT":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("yzCB"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"ck_query"}},[a("div",{staticClass:"nav"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:""}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("用户管理")])],1),t._v(" "),a("div",{staticClass:"searchGroup"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[t._v("\n             \n          ")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.search_name,callback:function(e){t.search_name=e},expression:"search_name"}})],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.search_phone,callback:function(e){t.search_phone=e},expression:"search_phone"}})],1)]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple search-button"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchFun}},[t._v(" 搜索 ")])],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"table_container"},[a("div",{staticClass:"muti_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{height:"100%",border:"",data:t.tableList,"row-key":"USER_UUID"}},[a("el-table-column",{attrs:{label:"姓名",prop:"xm"}}),t._v(" "),a("el-table-column",{attrs:{label:"手机号码",prop:"phone"}}),t._v(" "),a("el-table-column",{attrs:{label:"推荐人",prop:"sjXm"}}),t._v(" "),a("el-table-column",{attrs:{label:"身份证件号码",prop:"sfzjhm"}}),t._v(" "),a("el-table-column",{attrs:{label:"职位",prop:"zw"}}),t._v(" "),a("el-table-column",{attrs:{label:"支付宝号码",prop:"zfbzh"}}),t._v(" "),a("el-table-column",{attrs:{label:"录入时间",prop:"lrsj"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{margin:"0 auto"},attrs:{type:"success",size:"mini",round:""},nativeOn:{click:function(a){return t.updateCk(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("div",{staticClass:"table_info_bar_002"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[100,200,300,400],"page-size":10,layout:"total, prev, pager, next, jumper",total:t.totalSize},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"编辑用户",visible:t.isShowAddDialog,width:"70%","close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowAddDialog=e}}},[a("div",{staticStyle:{margin:"-14px 5px"}},[a("el-form",{attrs:{model:t.userData}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入姓名"},model:{value:t.userData.xm,callback:function(e){t.$set(t.userData,"xm",e)},expression:"userData.xm"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"手机号码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码",readonly:"readonly"},model:{value:t.userData.phone,callback:function(e){t.$set(t.userData,"phone",e)},expression:"userData.phone"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"身份证件号码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入身份证件号码"},model:{value:t.userData.sfzjhm,callback:function(e){t.$set(t.userData,"sfzjhm",e)},expression:"userData.sfzjhm"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"用户类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择用户类型"},model:{value:t.userData.userType,callback:function(e){t.$set(t.userData,"userType",e)},expression:"userData.userType"}},t._l(t.userTypeList,function(t){return a("el-option",{key:t.dm,attrs:{label:t.dmmc,value:t.dm}})}),1)],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"上级人员姓名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入上级人员姓名"},on:{focus:function(e){t.dialogTableGetSstjr=!0}},model:{value:t.userData.sjXm,callback:function(e){t.$set(t.userData,"sjXm",e)},expression:"userData.sjXm"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"支付宝账号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"number",placeholder:"请输入支付宝账号"},model:{value:t.userData.zfbzh,callback:function(e){t.$set(t.userData,"zfbzh",e)},expression:"userData.zfbzh"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择职位"},model:{value:t.userData.zw,callback:function(e){t.$set(t.userData,"zw",e)},expression:"userData.zw"}},t._l(t.zwList,function(t){return a("el-option",{key:t.dm,attrs:{label:t.dmmc,value:t.dm}})}),1)],1)],1)])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.valiteForm}},[t._v("确定")])],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"选择推荐人",visible:t.dialogTableGetSstjr,id:"ssckForm",width:"40%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableGetSstjr=e}}},[a("el-input",{staticClass:"input-with-select",staticStyle:{margin:"1px 0px 20px"},attrs:{placeholder:"请输入联系电话进行查询",id:"xjryInput"},model:{value:t.searchSstjrValue,callback:function(e){t.searchSstjrValue=e},expression:"searchSstjrValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchSstjr},slot:"append"})],1),t._v(" "),a("el-table",{attrs:{data:t.gridData,height:"400"},on:{"row-click":t.handletableSstjrClick}},[a("el-table-column",{attrs:{property:"xm",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"手机号码"}})],1),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"center",position:"relative",top:"10px"},attrs:{small:"",layout:"prev, pager, next",total:t.gridDataSize,"current-page":t.gridCurrentPage},on:{"current-change":t.gridCurrentChange}})],1)],1)])},staticRenderFns:[]},i=function(t){a("+G46")},l=a("VU/8")(s.a,r,!1,i,"data-v-d91741b8",null);e.default=l.exports},yzCB:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),r=a.n(s),i=a("mtWM"),l=a.n(i),n=a("162o");a.n(n),e.a={data:function(){return{loading:!1,isShowAddDialog:!1,dialogTableGetSstjr:!1,formLabelWidth:"100px",search_name:"",search_phone:"",tableList:[],expands:"",currentPage:1,totalSize:0,userData:{userUuid:"",xm:"",phone:"",userType:"",sfzjhm:"",zfbzh:"",sjUserUuid:"",sjXm:"",zw:""},gridData:[],gridDataSize:1,gridCurrentPage:1,searchSstjrValue:"",userTypeList:[],zwList:[]}},methods:{cancel:function(){this.isShowAddDialog=!1},searchSstjr:function(){this.querySstjr(this.searchSstjrValue,1)},handletableSstjrClick:function(t){this.dialogTableGetSstjr=!1,this.userData.sjXm=t.xm,this.userData.sjUserUuid=t.userUuid},gridCurrentChange:function(t){this.querySstjr(this.searchSstjrValue,t)},valiteForm:function(){return this.userData.xm.length<=0?(this.$message({type:"warning",message:"请输入姓名"}),!1):this.userData.sfzjhm.length<=0?(this.$message({type:"warning",message:"请输入身份证件号码"}),!1):this.userData.sjUserUuid.length<=0?(this.$message({type:"warning",message:"请选择上级人员"}),!1):""==this.userData.zfbzh||null==this.userData.zfbzh?(this.$message({type:"warning",message:"请输入支付宝账号"}),!1):void this.editUser()},editUser:function(){var e=this,a={userUuid:this.userData.userUuid,xm:this.userData.xm,phone:this.userData.phone,userType:this.userData.userType,sfzjhm:this.userData.sfzjhm,zfbzh:this.userData.zfbzh,sjUserUuid:this.userData.sjUserUuid,sjXm:this.userData.sjXm,zw:this.userData.zw};t.ajax({type:"POST",async:!0,url:this.projectName+"user/updateUser",data:r()(a),headers:{Authorization:sessionStorage.getItem("tokenHead")+sessionStorage.getItem("token")},contentType:"application/json",dataType:"json",timeout:6e4,success:function(t,a,s){200==t.code?(e.$message({type:"success",message:t.message}),e.querTableData(e.search_name,e.search_phone,1),e.isShowAddDialog=!1):e.$message({type:"warning",message:t.message})},error:function(t,e){}})},updateCk:function(t){this.userData={userUuid:t.userUuid,xm:t.xm,phone:t.phone,userType:t.userType,sfzjhm:t.sfzjhm||"",zfbzh:t.zfbzh||"",sjUserUuid:t.sjUserUuid||"",sjXm:t.sjXm||"",zw:t.zw},this.isShowAddDialog=!0,this.querySstjr(this.searchSstjrValue,1)},handleCurrentChange:function(t){this.querTableData(this.search_name,this.search_phone,t)},searchFun:function(){this.querTableData(this.search_name,this.search_phone,1)},querTableData:function(t,e,a){var s=this;this.loading=!0,l()({method:"post",url:this.projectName+"user/querySubordinateUsers",params:{xm:t,phone:e,pageNum:a},headers:{Authorization:sessionStorage.getItem("tokenHead")+sessionStorage.getItem("token")},contentType:"application/json",dataType:"json"}).then(function(t){200==t.data.code?(s.tableList=t.data.data.list,s.totalSize=t.data.data.total):(s.tableList=[],s.totalSize=0),s.loading=!1}).catch(function(t){s.loading=!1})},querySstjr:function(t,e){var a=this;l()({method:"post",url:this.projectName+"user/querySubordinateUsers",params:{xm:"",phone:t,pageNum:e},headers:{Authorization:sessionStorage.getItem("tokenHead")+sessionStorage.getItem("token")},contentType:"application/json",dataType:"json"}).then(function(t){"Fail"==t.data.result?(a.gridData=[],a.gridDataSize=0):(a.gridData=t.data.data.list,a.gridDataSize=t.data.data.total)}).catch(function(t){})},initData:function(){var t=this;l()({method:"post",url:this.projectName+"common/getCodeTable",params:{dmType:"角色类型"},headers:{Authorization:sessionStorage.getItem("tokenHead")+sessionStorage.getItem("token")},contentType:"application/json",dataType:"json"}).then(function(e){200==e.data.code&&(t.userTypeList=e.data.data)}).catch(function(t){}),l()({method:"post",url:this.projectName+"common/getCodeTable",params:{dmType:"职位"},headers:{Authorization:sessionStorage.getItem("tokenHead")+sessionStorage.getItem("token")},contentType:"application/json",dataType:"json"}).then(function(e){200==e.data.code&&(t.zwList=e.data.data)}).catch(function(t){})}},watch:{},created:function(){this.initData()},mounted:function(){this.querTableData("","",1)}}}).call(e,a("7t+N"))}});
//# sourceMappingURL=4.e3e5cf54881ee56e4203.js.map