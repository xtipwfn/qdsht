{"version":3,"sources":["webpack:///static/js/3.27d037a02dfca2b5de6a.js","webpack:///src/components/login.vue","webpack:///./src/components/login.vue?c16f","webpack:///./src/components/login.vue","webpack:///./src/assets/imgs/logo.png","webpack:///./src/assets/imgs/bannerbg.png"],"names":["webpackJsonp","K31e","t","e","s","Object","defineProperty","value","r","i","n","o","components_login","getUrlKey","name","decodeURIComponent","RegExp","exec","location","href","replace","data","formName","user","userError","password","passwordError","beDisabled","isSubmiting","isShowUpdateTips","isShowTypeSel","identityList","UserMenuList","menu_uuid","methods","resetForm","this","timeToFormat","times","minute","second","result","Math","floor","submitForm","login","that","axios_default","method","url","projectName","params","phone","then","response","code","sessionStorage","setItem","tokenHead","token","userInfoStr","stringify_default","queryUserMenuList","$alert","message","confirmButtonText","catch","error","headers","Authorization","getItem","$router","push","children","menuUuid","inputBlur","errorItem","inputContent","created","document","onkeypress","all","event","keyCode","which","directives","focus","inserted","el","mounted","userAgent","navigator","isIE","indexOf","test","fIEVersion","parseFloat","selectortype_template_index_0_src_components_login","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_v","type","_e","_m","src","__webpack_require__","alt","placeholder","on","input","$event","model","callback","$$v","$set","expression","_s","nativeOn","keyup","_k","key","loading","disabled","click","_l","item","CODE","chooseIdentity","MSG","staticStyle","outline","tabindex","rawName","opacity","position","staticRenderFns","Component","ssrContext","__webpack_exports__","module","exports","p"],"mappings":"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","file":"static/js/3.27d037a02dfca2b5de6a.js","sourcesContent":["webpackJsonp([3],{K31e:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=s(\"mvHQ\"),i=s.n(r),o=s(\"mtWM\"),n=s.n(o);s(\"162o\"),s(\"zL8q\");var a={getUrlKey:function(t){return decodeURIComponent((new RegExp(\"[?|&]\"+t+\"=([^&;]+?)(&|#|;|$)\").exec(location.href)||[,\"\"])[1].replace(/\\+/g,\"%20\"))||null},name:\"\",data:function(){return{formName:{user:\"\",userError:\"\",password:\"\",passwordError:\"\",beDisabled:!0},isSubmiting:!1,isShowUpdateTips:!1,isShowTypeSel:!1,identityList:[],UserMenuList:[],menu_uuid:\"\"}},methods:{resetForm:function(){this.formName.user=\"\",this.formName.userError=\"\",this.formName.password=\"\",this.formName.passwordError=\"\"},timeToFormat:function(t){var e,s,r=\"00:00\";return t>0&&((e=Math.floor(t/60))<10&&(e=\"0\"+e),(s=Math.floor((t-60*e)%60))<10&&(s=\"0\"+s),r=e+\":\"+s),r},submitForm:function(t){this.login()},login:function(){var t=this.formName.user,e=this.formName.password;this.isSubmiting=!this.isSubmiting;var s=this;n()({method:\"POST\",url:this.projectName+\"login\",params:{phone:t,password:e}}).then(function(t){if(s.isSubmiting=!s.isSubmiting,console.log(t.data),200==t.data.code){sessionStorage.setItem(\"tokenHead\",t.data.data.tokenHead),sessionStorage.setItem(\"token\",t.data.data.token),console.log(t.data.data.token);var e=i()(t.data.data.user);sessionStorage.setItem(\"userInfo\",e),console.log(e),s.queryUserMenuList()}else s.$alert(t.data.message,\"提示\",{confirmButtonText:\"确定\"})}).catch(function(t){})},queryUserMenuList:function(){var t=this;n()({method:\"POST\",url:this.projectName+\"menu/queryMenu\",params:{},headers:{Authorization:sessionStorage.getItem(\"tokenHead\")+sessionStorage.getItem(\"token\")}}).then(function(e){console.log(\"UserMenuData:\",e.data),200==e.data.code?(t.UserMenuList=e.data.data,console.log(\"UserMenuList:\",t.UserMenuList),t.$router.push(t.UserMenuList[0].children[0].href),sessionStorage.setItem(\"menu_uuid\",e.data.UserMenuList[1].menuUuid)):t.$alert(e.data.message,\"提示\",{confirmButtonText:\"确定\"})}).catch(function(t){})},inputBlur:function(t,e){\"user\"===t?this.formName.userError=\"\"===e?\"*用户名不能为空\":\"\":\"password\"===t&&(this.formName.passwordError=\"\"===e?\"*密码不能为空\":\"\"),\"\"!=this.formName.user&&\"\"!=this.formName.password?this.formName.beDisabled=!1:this.formName.beDisabled=!0}},created:function(){var t=this;document.onkeypress=function(e){if(13==(document.all?event.keyCode:e.which))return t.submitForm(),!1}},directives:{focus:{inserted:function(t){t.focus()}}},mounted:function(){var t=navigator.userAgent,e=t.indexOf(\"compatible\")>-1&&t.indexOf(\"MSIE\")>-1;t.indexOf(\"Edge\"),t.indexOf(\"Trident\")>-1&&t.indexOf(\"rv:11.0\");if(e){new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\").test(t);var s=parseFloat(RegExp.$1);return 7==s?7:8==s?8:9==s?9:10==s?10:6}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",[r(\"div\",{attrs:{id:\"login-container\"}},[r(\"div\",{staticClass:\"topTips\"},[t.isShowUpdateTips?r(\"p\",{staticClass:\"tipsToUpdate\"},[t._v(\"您的浏览器版本过低或者使用了兼容模式，可能无法正常使用系统功能。请升级最新浏览器版本。或者点击下载我们推荐的谷歌浏览器 \"),r(\"button\",{attrs:{type:\"button\",name:\"button\"}},[t._v(\"下载谷歌浏览器\")])]):t._e(),t._v(\" \"),r(\"p\",{staticClass:\"welcome\"},[t._v(\"您好，欢迎来到xxx!\")])]),t._v(\" \"),t._m(0),t._v(\" \"),r(\"div\",{staticClass:\"banner\"},[r(\"img\",{staticClass:\"bg\",attrs:{src:s(\"ntHA\"),alt:\"\"}}),t._v(\" \"),r(\"div\",{attrs:{id:\"loginForm\"}},[r(\"div\",{staticClass:\"topTitle\"},[t._v(\"\\n                    登陆\\n                \")]),t._v(\" \"),r(\"div\",{staticClass:\"formBox\"},[r(\"div\",{staticClass:\"inputBox\"},[r(\"label\",[t._v(\"用户名:\")]),t._v(\" \"),r(\"el-input\",{attrs:{placeholder:\"请输入用户名\",type:\"text\",id:\"user\"},on:{input:function(e){return t.inputBlur(\"user\",t.formName.user)}},model:{value:t.formName.user,callback:function(e){t.$set(t.formName,\"user\",e)},expression:\"formName.user\"}})],1),t._v(\" \"),r(\"p\",{staticClass:\"errorTips\"},[t._v(t._s(t.formName.userError))]),t._v(\" \"),r(\"div\",{staticClass:\"inputBox\"},[r(\"label\",[t._v(\"密    码:\")]),t._v(\" \"),r(\"el-input\",{attrs:{placeholder:\"请输入密码\",type:\"password\",id:\"password\"},on:{input:function(e){return t.inputBlur(\"password\",t.formName.password)}},nativeOn:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.submitForm(\"formName\")}},model:{value:t.formName.password,callback:function(e){t.$set(t.formName,\"password\",e)},expression:\"formName.password\"}})],1),t._v(\" \"),r(\"p\",{staticClass:\"errorTips\"},[t._v(t._s(t.formName.passwordError))]),t._v(\" \"),r(\"el-button\",{attrs:{type:\"primary\",loading:t.isSubmiting,disabled:t.formName.beDisabled,id:\"loginBtn\"},on:{click:function(e){return t.submitForm(\"formName\")}}},[t._v(\"提交\")])],1)])]),t._v(\" \"),t._m(1)]),t._v(\" \"),t.isShowTypeSel?r(\"div\",{staticClass:\"manyIdentityMask\"},[r(\"ul\",[r(\"li\",[t._v(\"请选择登陆身份\")]),t._v(\" \"),t._l(t.identityList,function(e){return r(\"li\",{key:e.CODE,on:{click:function(s){return t.chooseIdentity(e.CODE)}}},[t._v(t._s(e.MSG))])})],2)]):t._e(),t._v(\" \"),r(\"div\",{staticStyle:{outline:\"0\"},attrs:{id:\"loginDiv\",tabindex:\"1\"}},[r(\"input\",{directives:[{name:\"focus\",rawName:\"v-focus\"}],staticStyle:{opacity:\"0\",position:\"absolute\"},attrs:{type:\"text\"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e(\"header\",[e(\"img\",{attrs:{src:s(\"Vpqn\"),alt:\"\"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"footer\",[e(\"p\",{staticClass:\"first\"},[this._v(\"服务热线：020-3861 7652 邮箱地址:524783485@qq.com\")]),this._v(\" \"),e(\"p\",[this._v(\"Address:广东省广州市天河区元岗街道天源路天河新天地C座1004\")])])}]};var m=s(\"VU/8\")(a,u,!1,function(t){s(\"UeoE\")},null,null);e.default=m.exports},UeoE:function(t,e){},Vpqn:function(t,e,s){t.exports=s.p+\"static/img/logo.64e7212.png\"},ntHA:function(t,e,s){t.exports=s.p+\"static/img/bannerbg.17ac114.png\"}});\n\n\n// WEBPACK FOOTER //\n// static/js/3.27d037a02dfca2b5de6a.js","<template>\r\n  <div>\r\n      <!-- 主登录页面 -->\r\n      <div id=\"login-container\">\r\n          <div class=\"topTips\">\r\n              <p class=\"tipsToUpdate\" v-if=\"isShowUpdateTips\">您的浏览器版本过低或者使用了兼容模式，可能无法正常使用系统功能。请升级最新浏览器版本。或者点击下载我们推荐的谷歌浏览器 <button type=\"button\" name=\"button\">下载谷歌浏览器</button> </p>\r\n              <p class=\"welcome\">您好，欢迎来到xxx!</p>\r\n          </div>\r\n          <header>\r\n              <img src=\"../assets/imgs/logo.png\" alt=\"\">\r\n          </header>\r\n          <div class=\"banner\">\r\n              <img src=\"../assets/imgs/bannerbg.png\" alt=\"\" class=\"bg\">\r\n              <div id=\"loginForm\">\r\n                  <div class=\"topTitle\">\r\n                      登陆\r\n                  </div>\r\n                  <div class=\"formBox\">\r\n                      <div class=\"inputBox\">\r\n                          <label>用户名:</label>\r\n                          <el-input placeholder=\"请输入用户名\" type=\"text\" id=\"user\" v-model=\"formName.user\" @input=\"inputBlur('user',formName.user)\">\r\n                          </el-input>\r\n                      </div>\r\n                      <p class=\"errorTips\">{{formName.userError}}</p>\r\n                      <div class=\"inputBox\">\r\n                          <label>密&nbsp;&nbsp;&nbsp;&nbsp;码:</label>\r\n                          <el-input placeholder=\"请输入密码\" type=\"password\" id=\"password\" v-model=\"formName.password\" @input=\"inputBlur('password',formName.password)\" @keyup.enter.native=\"submitForm('formName')\">\r\n                          </el-input>\r\n                      </div>\r\n                      <p class=\"errorTips\">{{formName.passwordError}}</p>\r\n                      <el-button type=\"primary\" @click=\"submitForm('formName')\" :loading=\"isSubmiting\" v-bind:disabled=\"formName.beDisabled\" id=\"loginBtn\">提交</el-button>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n          <footer>\r\n              <p class=\"first\">服务热线：020-3861 7652 邮箱地址:524783485@qq.com</p>\r\n              <p>Address:广东省广州市天河区元岗街道天源路天河新天地C座1004</p>\r\n          </footer>\r\n      </div>\r\n\r\n       <!-- 选择登录身份 -->\r\n      <div class=\"manyIdentityMask\" v-if=\"isShowTypeSel\">\r\n        <ul>\r\n          <li>请选择登陆身份</li>\r\n          <li v-for=\"item in identityList\" :key=\"item.CODE\" @click=\"chooseIdentity(item.CODE)\">{{item.MSG}}</li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div id=\"loginDiv\" tabindex=\"1\" style=\"outline:0;\" >\r\n        <input type=\"text\" v-focus style=\"opacity:0;position:absolute;\">\r\n      </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Axios from \"axios\";\r\nimport { setTimeout, setInterval, clearInterval } from 'timers';\r\nimport { Loading, Message, MessageBox } from 'element-ui'\r\n/**\r\n * getUrlKey 截取地址栏参数\r\n * @param value\r\n * @returns {String}\r\n */\r\nfunction getUrlKey(name) {\r\n  return (\r\n    decodeURIComponent(\r\n      (new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(\r\n        location.href\r\n      ) || [, ''])[1].replace(/\\+/g, '%20')\r\n    ) || null\r\n  );\r\n}\r\nexport default {\r\n  getUrlKey,\r\n  name: \"\",  \r\n  data() {\r\n    return {\r\n      formName: {\r\n        //表单中的参数\r\n        user: \"\",\r\n        userError: \"\",\r\n        password: \"\",\r\n        passwordError: \"\",\r\n        beDisabled: true,\r\n      },\r\n      isSubmiting: false,\r\n      isShowUpdateTips:false,\r\n      isShowTypeSel:false,\r\n      identityList:[],\r\n      UserMenuList:[],\r\n      menu_uuid:''\r\n    };\r\n  },\r\n  methods: {\r\n    // 重置表单\r\n    resetForm: function() {\r\n      this.formName.user = \"\";\r\n      this.formName.userError = \"\";\r\n      this.formName.password = \"\";\r\n      this.formName.passwordError = \"\";\r\n    },\r\n    // 时间转换\r\n    timeToFormat:function(times){\r\n      var result = '00:00';\r\n      var minute,second\r\n      if (times > 0) {\r\n        minute = Math.floor((times) / 60);\r\n        if (minute < 10) {\r\n          minute = \"0\"+minute;\r\n        }\r\n\r\n        second = Math.floor((times - 60 * minute) % 60);\r\n        if (second < 10) {\r\n          second = \"0\"+second;\r\n        }\r\n        result = minute+':'+second;\r\n      }\r\n      return result;  \r\n    },\r\n    // 登陆提交表单\r\n    submitForm: function(formName) {\r\n     \r\n     this.login();     \r\n\r\n    },\r\n    //登录\r\n    login(){\r\n      var user = this.formName.user;\r\n      var password = this.formName.password;\r\n      this.isSubmiting = !this.isSubmiting;\r\n      \r\n      var that = this;\r\n\r\n      // var loginPara = {\r\n      //   \"phone\":user,\r\n      //   \"password\":password\r\n      // }\r\n      // var para_singed = this.sign(loginPara);\r\n\r\n      Axios({\r\n        method: \"POST\",\r\n        url: this.projectName+\"login\",\r\n        params: {\r\n         \"phone\":user,\r\n         \"password\":password          \r\n        }\r\n        // headers:{\r\n        //     'Authorization':sessionStorage.getItem(\"tokenHead\")+sessionStorage.getItem(\"token\")\r\n        // }\r\n      }).then(function(response) {\r\n          that.isSubmiting = !that.isSubmiting;\r\n          console.log(response.data)\r\n          if (response.data.code == 200) {\r\n            sessionStorage.setItem(\"tokenHead\", response.data.data.tokenHead);\r\n            sessionStorage.setItem(\"token\", response.data.data.token);\r\n            console.log(response.data.data.token);\r\n            //JSON.stringify(response.data.data.user)\r\n            var userInfoStr = JSON.stringify(response.data.data.user);\r\n\r\n            sessionStorage.setItem(\"userInfo\", userInfoStr);\r\n            console.log(userInfoStr);\r\n            //查询菜单\r\n            that.queryUserMenuList();\r\n\r\n          }else{\r\n            // 错误提示\r\n            that.$alert(response.data.message, \"提示\", {\r\n              confirmButtonText: \"确定\"\r\n            });\r\n\r\n          }\r\n        }).catch(function(error) {}); \r\n    },\r\n    queryUserMenuList(){\r\n       var that = this;\r\n       Axios({\r\n        method: \"POST\",\r\n        url: this.projectName+\"menu/queryMenu\",\r\n        params: {},\r\n        headers:{\r\n            'Authorization':sessionStorage.getItem(\"tokenHead\")+sessionStorage.getItem(\"token\")\r\n        }\r\n      }).then(function(response) {\r\n          console.log(\"UserMenuData:\",response.data);\r\n          if (response.data.code == 200) {\r\n              that.UserMenuList=response.data.data;\r\n              console.log(\"UserMenuList:\",that.UserMenuList);\r\n              \r\n              // that.$router.push(that.UserMenuList[0].url);\r\n              that.$router.push(that.UserMenuList[0].children[0].href);\r\n              sessionStorage.setItem(\r\n                \"menu_uuid\",\r\n                response.data.UserMenuList[1].menuUuid\r\n              );\r\n          }else{\r\n             // 错误提示\r\n            that.$alert(response.data.message, \"提示\", {\r\n              confirmButtonText: \"确定\"\r\n            });\r\n          }\r\n        }).catch(function(error) {}); \r\n    },\r\n    // 失焦表单验证\r\n    inputBlur: function(errorItem, inputContent) {\r\n      if (errorItem === \"user\") {\r\n        if (inputContent === \"\") {\r\n          this.formName.userError = \"*用户名不能为空\";\r\n        } else {\r\n          this.formName.userError = \"\";\r\n        }\r\n      } else if (errorItem === \"password\") {\r\n        if (inputContent === \"\") {\r\n          this.formName.passwordError = \"*密码不能为空\";\r\n        } else {\r\n          this.formName.passwordError = \"\";\r\n        }\r\n      } \r\n      \r\n      //对于按钮的状态进行修改\r\n      if (\r\n        this.formName.user != \"\" &&\r\n        this.formName.password != \"\"\r\n      ) {\r\n        this.formName.beDisabled = false;\r\n      } else {\r\n        this.formName.beDisabled = true;\r\n      }\r\n    },\r\n  },\r\n  created: function() {\r\n     let that = this;\r\n     document.onkeypress = function(e) {\r\n        var keycode = document.all ? event.keyCode : e.which;\r\n        if (keycode == 13) {\r\n        that.submitForm();// 登录方法名\r\n        return false;\r\n        }\r\n      };\r\n  },\r\n  directives: {\r\n    focus: {\r\n      // 指令的定义\r\n      inserted: function (el) {\r\n      el.focus()\r\n      }\r\n    }\r\n  },\r\n  mounted: function() {\r\n\r\n    // IE 检测\r\n    var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串\r\n    var isIE = userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1; //判断是否IE<11浏览器\r\n    var isEdge = userAgent.indexOf(\"Edge\") > -1 && !isIE; //判断是否IE的Edge浏览器\r\n    var isIE11 = userAgent.indexOf('Trident') > -1 && userAgent.indexOf(\"rv:11.0\") > -1;\r\n    if(isIE) {\r\n        var reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\r\n        reIE.test(userAgent);\r\n        var fIEVersion = parseFloat(RegExp[\"$1\"]);\r\n        if(fIEVersion == 7) {\r\n            return 7;\r\n        } else if(fIEVersion == 8) {\r\n            return 8;\r\n        } else if(fIEVersion == 9) {\r\n            return 9;\r\n        } else if(fIEVersion == 10) {\r\n            return 10;\r\n        } else {\r\n            return 6;//IE版本<=7\r\n        }\r\n        this.isShowUpdateTips=true;\r\n    } else if(isEdge) {\r\n        //edge\r\n    } else if(isIE11) {\r\n\r\n    }else{\r\n        //不是ie浏览器\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#barcodeLogin{\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 9999;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0,0,0,0.3);\r\n  .inner_container{\r\n    width: 650px;\r\n    height: 320px;\r\n    background: rgba(0,0,0,0.7);\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translateX(-50%) translateY(-50%);\r\n    color: #fff;\r\n    padding-top: 25px;\r\n    box-sizing: border-box;\r\n    .closeBarcodeLogin{\r\n      position: fixed;\r\n      top: 7px;\r\n      left: 7px;\r\n      cursor: pointer;\r\n    }\r\n    .gzhBarcode,.loginBarcode{\r\n      width: 250px;\r\n      height: 250px;\r\n      float: left;\r\n      margin: 0px 0px 0px 50px;\r\n      #code_gzh,#code_login{\r\n        width: 220px;\r\n        height: 220px;\r\n        background: #fff;\r\n        margin: 10px auto;\r\n        img{\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n      p{\r\n        font-size: 12px;\r\n        width: 100%;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n#login-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  .topTips {\r\n    width: 100%;\r\n    height: 27px;\r\n    background: #fafafa;\r\n    border-bottom: 1px solid #dfe1e0;\r\n    position: relative;\r\n    .welcome {\r\n      height: 27px;\r\n      line-height: 27px;\r\n      font-size: 12px;\r\n      float: right;\r\n      color: #a1a1a1;\r\n      font-size: 12px;\r\n      cursor: pointer;\r\n      margin-right: 40px;\r\n    }\r\n    .tipsToUpdate{\r\n      position: absolute;\r\n      font-size: 14px;\r\n      color: red;\r\n      height: 27px;\r\n      line-height: 27px;\r\n      left: 10px;\r\n      button{\r\n        font-size: 12px;\r\n        margin-left: 10px;\r\n        height: 24px;\r\n        line-height: 24px;\r\n        padding:0px 10px;\r\n      }\r\n    }\r\n  }\r\n  header {\r\n    width: 100%;\r\n    height: 90px;\r\n    line-height: 90px;\r\n    background: #ffffff;\r\n    border-bottom: 1px solid #dfe1e0;\r\n    img {\r\n      vertical-align: middle;\r\n      // margin-left: 10%;\r\n      height: 95px;\r\n    }\r\n  }\r\n  .banner {\r\n    position: relative;\r\n    .bg {\r\n      width: 100%;\r\n    }\r\n    .introBox {\r\n      width: 35%;\r\n      height: 394px;\r\n      position: absolute;\r\n      top: 106px;\r\n      left: 15%;\r\n      text-align: left;\r\n      .topTitle {\r\n        width: 380px;\r\n        height: 80px;\r\n        position: relative;\r\n        text-align: left;\r\n        h1 {\r\n          position: absolute;\r\n          top: 16px;\r\n          left: 20px;\r\n          color: #c4d7fe;\r\n          font-size: 36px;\r\n        }\r\n      }\r\n      .intro {\r\n        font-size: 14px;\r\n        color: #c4d7fe;\r\n        margin-top: 22px;\r\n      }\r\n      .circleBox {\r\n        width: 100%;\r\n        margin-top: 38px;\r\n        .circleIntro {\r\n          float: left;\r\n          width: 100px;\r\n          height: 100px;\r\n          border-radius: 100%;\r\n          background: rgba(196, 215, 254, 0.4);\r\n          text-align: center;\r\n          color: #c4defe;\r\n          font-size: 18px;\r\n          margin-right: 30px;\r\n          span {\r\n            display: inline-block;\r\n            margin-top: 25px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    #loginForm{\r\n        width: 380px;\r\n        position: absolute;\r\n        left: 38%;\r\n        top: 80px;\r\n        background: #fff;\r\n        .topTitle{\r\n            width: 100%;\r\n            height: 50px;\r\n            line-height: 50px;\r\n            text-align: center;\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n            border-bottom: 1px solid #c0c4cc;\r\n        }\r\n        .formBox{\r\n            padding: 35px 20px;\r\n            box-sizing: border-box;\r\n            .inputBox{\r\n                display: flex;\r\n                margin-bottom: 15px;\r\n                label{\r\n                    flex-basis: 80px;\r\n                    height: 40px;\r\n                    line-height: 40px;\r\n                    color: #666;\r\n                    font-size: 15px;\r\n                }\r\n                .el-input{\r\n                    color: #666;\r\n                    font-size: 15px;\r\n                    flex-grow: 1;\r\n                    width: 0;\r\n                    input{\r\n                        border: 1px solid #a1a1a1!important;\r\n                        border-radius: 3px;\r\n                    }\r\n                }\r\n            }\r\n            .errorTips{\r\n                font-size: 14px;\r\n                color: red;\r\n                padding-left: 80px;\r\n                position: relative;\r\n                top: -10px;\r\n            }\r\n            .errorTips-phone{\r\n              font-size: 14px;\r\n              color: red;\r\n              position: relative;\r\n              top: -10px;\r\n              // text-align: center;\r\n            }\r\n            .valateBox{\r\n                .el-input{\r\n                    flex-grow: 1;\r\n                    width: 0;\r\n                }\r\n                .valiteImgBox{\r\n                    flex-basis: 110px;\r\n                    #yhYzmimg{\r\n                        width: 100px;\r\n                        height: 38px;\r\n                        float: right;\r\n                        border: 1px solid #a1a1a1;\r\n                        cursor: pointer;\r\n                    }\r\n                }\r\n            }\r\n            #loginBtn{\r\n                width: 100%;\r\n                // border-radius: 40px; #ffb100\r\n                background-color: rgb(80, 85, 247);\r\n                border: none;\r\n                margin-top: 10px;\r\n            }\r\n        }\r\n    }\r\n  }\r\n  footer {\r\n    width: 100%;\r\n    height: 80px;\r\n    background: #eeeeee;\r\n    text-align: center;\r\n    padding-top: 30px;\r\n    p {\r\n      margin-top: 10px;\r\n      font-size: 12px;\r\n      color: #a1a1a1;\r\n    }\r\n  }\r\n}\r\n.manyIdentityMask{\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0,0,0,0.3);\r\n  z-index: 99;\r\n  ul{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translateX(-50%) translateY(-50%);\r\n    list-style: none;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    li{\r\n      width: 400px;\r\n      height: 60px;\r\n      line-height: 60px;\r\n      border-bottom: 1px solid #e5e5e5;\r\n      background: #fff;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"login-container\"}},[_c('div',{staticClass:\"topTips\"},[(_vm.isShowUpdateTips)?_c('p',{staticClass:\"tipsToUpdate\"},[_vm._v(\"您的浏览器版本过低或者使用了兼容模式，可能无法正常使用系统功能。请升级最新浏览器版本。或者点击下载我们推荐的谷歌浏览器 \"),_c('button',{attrs:{\"type\":\"button\",\"name\":\"button\"}},[_vm._v(\"下载谷歌浏览器\")])]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"welcome\"},[_vm._v(\"您好，欢迎来到xxx!\")])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"banner\"},[_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"../assets/imgs/bannerbg.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"loginForm\"}},[_c('div',{staticClass:\"topTitle\"},[_vm._v(\"\\n                    登陆\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"formBox\"},[_c('div',{staticClass:\"inputBox\"},[_c('label',[_vm._v(\"用户名:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\",\"type\":\"text\",\"id\":\"user\"},on:{\"input\":function($event){return _vm.inputBlur('user',_vm.formName.user)}},model:{value:(_vm.formName.user),callback:function ($$v) {_vm.$set(_vm.formName, \"user\", $$v)},expression:\"formName.user\"}})],1),_vm._v(\" \"),_c('p',{staticClass:\"errorTips\"},[_vm._v(_vm._s(_vm.formName.userError))]),_vm._v(\" \"),_c('div',{staticClass:\"inputBox\"},[_c('label',[_vm._v(\"密    码:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\",\"id\":\"password\"},on:{\"input\":function($event){return _vm.inputBlur('password',_vm.formName.password)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('formName')}},model:{value:(_vm.formName.password),callback:function ($$v) {_vm.$set(_vm.formName, \"password\", $$v)},expression:\"formName.password\"}})],1),_vm._v(\" \"),_c('p',{staticClass:\"errorTips\"},[_vm._v(_vm._s(_vm.formName.passwordError))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.isSubmiting,\"disabled\":_vm.formName.beDisabled,\"id\":\"loginBtn\"},on:{\"click\":function($event){return _vm.submitForm('formName')}}},[_vm._v(\"提交\")])],1)])]),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),(_vm.isShowTypeSel)?_c('div',{staticClass:\"manyIdentityMask\"},[_c('ul',[_c('li',[_vm._v(\"请选择登陆身份\")]),_vm._v(\" \"),_vm._l((_vm.identityList),function(item){return _c('li',{key:item.CODE,on:{\"click\":function($event){return _vm.chooseIdentity(item.CODE)}}},[_vm._v(_vm._s(item.MSG))])})],2)]):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"outline\":\"0\"},attrs:{\"id\":\"loginDiv\",\"tabindex\":\"1\"}},[_c('input',{directives:[{name:\"focus\",rawName:\"v-focus\"}],staticStyle:{\"opacity\":\"0\",\"position\":\"absolute\"},attrs:{\"type\":\"text\"}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('img',{attrs:{\"src\":require(\"../assets/imgs/logo.png\"),\"alt\":\"\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('p',{staticClass:\"first\"},[_vm._v(\"服务热线：020-3861 7652 邮箱地址:524783485@qq.com\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Address:广东省广州市天河区元岗街道天源路天河新天地C座1004\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3791fe39\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3791fe39\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3791fe39\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/logo.64e7212.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/logo.png\n// module id = Vpqn\n// module chunks = 3","module.exports = __webpack_public_path__ + \"static/img/bannerbg.17ac114.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/bannerbg.png\n// module id = ntHA\n// module chunks = 3"],"sourceRoot":""}